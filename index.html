<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Globo Responsivo - Capitais</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            /* Fundo da Página (Web): Gradiente suave que se harmoniza com a cena 3D */
            background: radial-gradient(circle at center, #191722 0.5%, #000000 100%);
        }
        #globeViz {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }
        #logo {
            position: absolute; /* Superior Esquerdo */
            top: 30px;
            left: 30px;
            width: 250px;
            height: auto;
            z-index: 10;
            border-radius: 5px;
        }
        #logo2 {
            position: absolute; /* Superior Direito */
            top: 30px;
            right: 30px;
            width: 200px;
            height: auto;
            z-index: 10;
            border-radius: 5px;
        }
        #logo3 {
            position: absolute; /* Inferior Direito */
            bottom: 30px;
            right: 30px;
            width: 150px;
            height: auto;
            z-index: 10;
            border-radius: 5px;
        }

        /* --- Estilos para o Toggle Button --- */
        #toggle-container {
            position: absolute;
            top: 30px; /* Alinhamento com os logos */
            left: 50%;
            transform: translateX(-50%); /* Centraliza horizontalmente */
            z-index: 20; /* Garante que está sobre o globo */
            background-color: #222; /* Fundo do container (Preto não totalmente preto) */
            border-radius: 20px;
            padding: 5px;
            display: flex;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            width: auto; /* Adapta-se ao conteúdo */
        }

        .toggle-btn {
            position: relative;
            z-index: 1;
            padding: 8px 15px;
            cursor: pointer;
            color: #000000; /* Cor do texto não-ativo */
            font-weight: bold;
            font-family: Arial, sans-serif;
            transition: color 0.3s ease;
            
            /* FORÇAR CENTRALIZAÇÃO DO TEXTO DENTRO DO BOTÃO */
            display: flex; 
            justify-content: center; /* Centraliza horizontalmente */
            align-items: center; /* Centraliza verticalmente */
            min-width: 140px; /* Garante que ambos os textos tenham largura suficiente */
        }

        .toggle-btn:hover {
            color: #fff;
        }

        .toggle-input {
            display: none; /* Esconde o radio button nativo */
        }

        /* O fundo cinza (ativo) é aplicado ao span .toggle-slider */
        #daily-report:checked ~ .toggle-slider {
            transform: translateX(0);
        }

        #connected-machines:checked ~ .toggle-slider {
            transform: translateX(100%); 
        }

        .toggle-slider {
            position: absolute;
            top: 5px;
            left: 5px;
            height: calc(100% - 10px);
            width: calc(50% - 5px); /* Metade do container menos o padding do container */
            background-color: #777; /* Cinza ativado */
            border-radius: 20px;
            transition: transform 0.3s ease;
            z-index: 0;
            pointer-events: none; /* Garante que não interfere no clique do label */
        }

        /* Cores do texto quando ATIVO (sobre o cinza) */
        #daily-report:checked + .toggle-btn-label {
            color: #000; 
            z-index: 1;
        }

        #connected-machines:checked + .toggle-btn-label {
            color: #000; 
            z-index: 1;
        }

        /* --- Estilos para a Caixa de Informação de Equipamentos (Direita) --- */
        #info-box {
            position: absolute;
            top: 50%; /* Centraliza verticalmente */
            right: 15%; /* Distância da margem direita */
            transform: translateY(-50%); /* Ajuste para centralização vertical exata */
            z-index: 15; /* Acima do globo, abaixo dos logos */
            /*background-color: rgba(0, 0, 0, 0.6); /* Fundo preto semi-transparente */*/
            /*border-radius: 10px;*/
            padding: 20px;
            color: #fff;
            text-align: center;
            font-family: Arial, sans-serif;
            width: 180px; /* Largura fixa para a caixa */
            /*box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);*/
        }

        #info-box .number {
            font-size: 3em; /* Tamanho grande para o número */
            font-weight: bold;
            color: #ffffff; /* Cor azul para destaque */
            line-height: 1; /* Garante espaçamento adequado */
            margin-bottom: 5px;
        }

        #info-box .label {
            font-size: 1.2em;
            color: #ffffff;
        }
        
        /* --- Estilos para o Card do Gráfico de Pizza (Esquerda) --- */
        #pie-chart-card {
            position: absolute;
            bottom: 80px;
            left: 5%;
            /*transform: translateY(-50%);*/
            z-index: 15;
            border-radius: 10px;
            padding: 15px;
            color: #fff;
            font-family: Arial, sans-serif;
            width: 350px; /* maior para acomodar layout lado a lado */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.7);
            display: flex; /* layout em linha */
            flex-direction: row; /* lado a lado */
            align-items: center;
            background: transparent; /* opcional, se desejar */
        }

        #pie-chart-card h2 {
            font-size: 1.2em; /* Reduzido o título */
            margin-bottom: 10px;
            color: #f5f5f5; /* Cor temática */
        }
        
/* Tamanho do Canvas */
#canvas-container {
    width: 250px;
    height: 150px;
    margin-right: 20px; /* espaçamento entre gráfico e legenda */
}

/* Legenda */
#legend {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    width: 20px; /* ajuste conforme necessário */
}
#legend h2 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
    color: #f5f5f5;
}

/* Lista de detalhes na legenda */
#chart-details {
    list-style: none;
    padding: 0;
    margin: 0;
    width: 100%;
    font-size: 0.9em;
}
#chart-details li {
    padding: 4px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: space-between;
}
        
        /* Wrapper que envolve gráfico e legenda */
#pie-chart-wrapper {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: start;
    width: 100%;
}
        
        /* Estilo para o Quadrado de Cor */
        .color-swatch {
            display: inline-block;
            width: 12px;
            height: 12px;
            margin-right: 8px;
            border-radius: 2px;
            border: 1px solid rgba(255, 255, 255, 0.3); /* Borda suave */
            /* Usamos flexbox para controlar o posicionamento dentro do <li> */
            flex-shrink: 0; 
        }
        
        .label-text {
            /* Permite que o texto MWS... ocupe o espaço restante */
            flex-grow: 1;
        }

        .chart-percentage {
            font-weight: bold;
            flex-shrink: 0; /* Impede que a percentagem encolha */
        }


        #chart-details li:last-child {
            border-bottom: none;
        }
        
        /* --- NOVO CSS PARA O BOTÃO PLAY/PAUSE (Não altera estilos existentes) --- */
        #play-pause-container {
            position: absolute;
            bottom: 30px; 
            left: 5%;
            /*transform: translateX(-50%); /* Centraliza abaixo */
            z-index: 20;
        }

        #playPauseBtn {
            padding: 10px 20px;
            background-color: rgba(222, 214, 213,0.1); /* Azul */
            color: gray;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-family: Arial, sans-serif;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        #playPauseBtn:hover {
            background-color: ;
        }
        /* FIM DO NOVO CSS */
    </style>

    <script type="importmap">
        {
            "imports": {
                "three": "https://esm.sh/three",
                "three/": "https://esm.sh/three/"
            }
        }
    </script>
</head>

<body>
    <div id="toggle-container">
        <input type="radio" id="daily-report" name="report-type" class="toggle-input" checked>
        <label for="daily-report" class="toggle-btn toggle-btn-label">Daily Report</label>

        <input type="radio" id="connected-machines" name="report-type" class="toggle-input">
        <label for="connected-machines" class="toggle-btn toggle-btn-label">Connected Machines</label>

        <span class="toggle-slider"></span>
    </div>

    <div id="info-box">
        <div class="number">364</div>
        <div class="label">Equipments</div>
        <div class="label">Connected</div>
    </div>
    
    <div id="pie-chart-card">
        <h2></h2>
        <div id="canvas-container">
            <canvas id="machineChart"></canvas>
        </div>
      
        <ul id="chart-details">
            <li><span class="color-swatch" style="background-color: #808080;"></span> <span class="label-text">EUROPA</span> <span class="chart-percentage">73.5%</span></li>
            <li><span class="color-swatch" style="background-color: #D3D3D3;"></span> <span class="label-text">AMÉRICA</span> <span class="chart-percentage">17.9%</span></li>
            <li><span class="color-swatch" style="background-color: #FFFFFF;"></span> <span class="label-text">ÁFRICA</span> <span class="chart-percentage">0.5%</span></li>
            <li><span class="color-swatch" style="background-color: #505050;"></span> <span class="label-text">ÁSIA</span> <span class="chart-percentage">7.1%</span></li>
            <li><span class="color-swatch" style="background-color: #312f31;"></span> <span class="label-text">OCEÂNIA</span> <span class="chart-percentage">1.0%</span></li>
        </ul>
    </div>
    
    <div id="play-pause-container">
        <button id="playPauseBtn"> Pausar Rotação</button>
    </div>

    <div id="globeViz"></div>
    <img id="logo" src="https://static.wixstatic.com/media/a6967f_b1478a338afc4870879e1ba83f915dc5~mv2.png" alt="Logo Multiwasher">
    <img id="logo2" src="https://static.wixstatic.com/media/a6967f_691cf1aade3c471c816d1071b0c6ebdd~mv2.png" alt="Logo Somengil">
    <script type="module">
        import ThreeGlobe from 'https://esm.sh/three-globe?external=three';
        import * as THREE from 'three';
        import { TrackballControls } from 'https://esm.sh/three/examples/jsm/controls/TrackballControls.js';

        // --- Dados de arcos (todas as capitais a partir de Lisboa), com nomes em Inglês ---
   const arcsData = [
   { startLat: 38.7223, startLng: -9.1393, endLat: 38.7169, endLng: -9.139, name: 'PO-LIS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.1496, endLng: -8.611, name: 'PO-POR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 40.4168, endLng: -3.7038, name: 'ES-MAD', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.3851, endLng: 2.1734, name: 'ES-BAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 39.4699, endLng: -0.3763, name: 'ES-VAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 37.3891, endLng: -5.9845, name: 'ES-SEV', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.263, endLng: -2.935, name: 'ES-BIL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 48.8566, endLng: 2.3522, name: 'FR-PAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.764, endLng: 4.8357, name: 'FR-LYO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.2965, endLng: 5.3698, name: 'FR-MAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.52, endLng: 13.405, name: 'AL-BER', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 48.1351, endLng: 11.582, name: 'AL-MUN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 53.5511, endLng: 9.9937, name: 'AL-HAM', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 50.1109, endLng: 8.6821, name: 'AL-FRA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.0504, endLng: 13.7373, name: 'AL-DRE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 48.2082, endLng: 16.3738, name: 'AU-VIE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.8095, endLng: 13.055, name: 'AU-SAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 50.8503, endLng: 4.3517, name: 'BE-BRU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.2194, endLng: 4.4025, name: 'BE-ANT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.0543, endLng: 3.7174, name: 'BE-GAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.3676, endLng: 4.9041, name: 'PA-AME', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.9244, endLng: 4.4777, name: 'PA-ROT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.0907, endLng: 5.1214, name: 'PA-UTR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 59.9139, endLng: 10.7522, name: 'NO-OSL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 60.3913, endLng: 5.3221, name: 'NO-BER', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 59.3293, endLng: 18.0686, name: 'SU-EST', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 57.7089, endLng: 11.9746, name: 'SU-GOT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.605, endLng: 13.0038, name: 'SU-MAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.6761, endLng: 12.5683, name: 'DI-COP', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 56.1629, endLng: 10.2039, name: 'DI-AAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 60.1695, endLng: 24.9355, name: 'FI-HEL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 60.4518, endLng: 22.2666, name: 'FI-TUR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 64.1355, endLng: -21.8954, name: 'IS-REY', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 53.3331, endLng: -6.2489, name: 'IR-DUB', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 53.2707, endLng: -9.0568, name: 'IR-GAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.9028, endLng: 12.4964, name: 'IT-ROM', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.4642, endLng: 9.19, name: 'IT-MIL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 40.8518, endLng: 14.2681, name: 'IT-NAP', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.7696, endLng: 11.2558, name: 'IT-FLO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.4408, endLng: 12.3155, name: 'IT-VEN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 38.7169, endLng: -9.139, name: 'PO-LIS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.1496, endLng: -8.611, name: 'PO-POR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 50.0755, endLng: 14.4378, name: 'RE-PRA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 49.1951, endLng: 16.6068, name: 'RE-BRN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.2297, endLng: 21.0122, name: 'PO-VAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 50.0647, endLng: 19.945, name: 'PO-CRA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 44.4268, endLng: 26.1025, name: 'RO-BUC', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.4979, endLng: 19.0402, name: 'HU-BUD', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 42.6977, endLng: 23.3219, name: 'BU-SOF', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 44.8176, endLng: 20.4569, name: 'SE-BEL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.815, endLng: 15.9785, name: 'CR-ZAG', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 46.0569, endLng: 14.5058, name: 'ES-LIU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.9981, endLng: 21.4254, name: 'MA-SKO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.3275, endLng: 19.8189, name: 'AL-TIR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 42.441, endLng: 19.2625, name: 'MO-POD', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.8563, endLng: 18.4131, name: 'BO-SAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 42.6629, endLng: 21.1655, name: 'KO-PRI', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 56.946, endLng: 24.1059, name: 'LE-RIG', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 54.6872, endLng: 25.2797, name: 'LI-VIL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 59.437, endLng: 24.7536, name: 'ES-TAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 49.6116, endLng: 6.1319, name: 'LU-LUX', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 35.8997, endLng: 14.5146, name: 'MA-VAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 42.5078, endLng: 1.5211, name: 'AN-AND', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.7384, endLng: 7.4246, name: 'MO-MON', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.9336, endLng: 12.4484, name: 'SA-SAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 64.1355, endLng: -21.8954, name: 'IS-REY', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.1417, endLng: 9.5215, name: 'LI-VAD', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 59.9139, endLng: 10.7522, name: 'NO-OSL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 60.3913, endLng: 5.3221, name: 'NO-BER', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 63.4305, endLng: 10.3951, name: 'NO-TRO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 58.969, endLng: 5.7331, name: 'NO-STA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 60.1695, endLng: 24.9355, name: 'FI-HEL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 61.4981, endLng: 23.7607, name: 'FI-TAM', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 60.4518, endLng: 22.2666, name: 'FI-TUR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 60.2055, endLng: 24.6559, name: 'FI-ESP', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 57.7089, endLng: 11.9746, name: 'SU-GOT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.605, endLng: 13.0038, name: 'SU-MAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 59.3293, endLng: 18.0686, name: 'SU-EST', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 59.8586, endLng: 17.6389, name: 'SU-UPP', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.6761, endLng: 12.5683, name: 'DI-COP', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 56.1629, endLng: 10.2039, name: 'DI-AAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.4038, endLng: 10.4024, name: 'DI-ODE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 57.0488, endLng: 9.9217, name: 'DI-AAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 50.8503, endLng: 4.3517, name: 'BE-BRU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.2194, endLng: 4.4025, name: 'BE-ANT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.0543, endLng: 3.7174, name: 'BE-GAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 50.633, endLng: 5.567, name: 'BE-LIE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 50.466, endLng: 4.867, name: 'BE-NAM', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.3676, endLng: 4.9041, name: 'PA-AMS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.9244, endLng: 4.4777, name: 'PA-ROT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.0705, endLng: 4.3007, name: 'PA-HAI', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.0907, endLng: 5.1214, name: 'PA-UTR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 54.352, endLng: 18.6466, name: 'PO-GDA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 50.0647, endLng: 19.945, name: 'PO-CRA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.2297, endLng: 21.0122, name: 'PO-VAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.1079, endLng: 17.0385, name: 'PO-WRO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.4064, endLng: 16.9252, name: 'PO-POZ', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 44.4268, endLng: 26.1025, name: 'RO-BUC', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 46.7712, endLng: 23.6236, name: 'RO-CLU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.7597, endLng: 21.23, name: 'RO-TIM', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.4979, endLng: 19.0402, name: 'HU-BUD', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.5316, endLng: 21.6273, name: 'HU-DEB', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 46.253, endLng: 20.1414, name: 'HU-SZE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 44.8176, endLng: 20.4569, name: 'SE-BEL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.2671, endLng: 19.8335, name: 'SE-NOV', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.8563, endLng: 18.4131, name: 'BO-SAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.3438, endLng: 17.8078, name: 'BO-MOS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 44.2034, endLng: 17.9076, name: 'BO-ZEN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.9981, endLng: 21.4254, name: 'MA-SKO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.0317, endLng: 21.3405, name: 'MA-BIT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.3275, endLng: 19.8189, name: 'AL-TIR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.3231, endLng: 19.4414, name: 'AL-DUR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 40.466, endLng: 19.489, name: 'AL-VLO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 42.441, endLng: 19.2625, name: 'MO-POD', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 42.4247, endLng: 18.7714, name: 'MO-KOT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 44.5381, endLng: 18.6674, name: 'BO-TUZ', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 56.946, endLng: 24.1059, name: 'LE-RIG', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.8796, endLng: 26.5343, name: 'LE-DAU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 54.6872, endLng: 25.2797, name: 'LI-VIL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 54.8985, endLng: 23.9036, name: 'LI-KAU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 59.437, endLng: 24.7536, name: 'ES-TAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 58.378, endLng: 26.729, name: 'ES-TAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 49.6116, endLng: 6.1319, name: 'LU-LUX', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.1417, endLng: 9.5215, name: 'LI-VAD', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 42.5078, endLng: 1.5211, name: 'AN-AND', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 35.8997, endLng: 14.5146, name: 'MA-VAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.9336, endLng: 12.4484, name: 'SA-SAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.7384, endLng: 7.4246, name: 'MO-MON', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 59.9139, endLng: 10.7522, name: 'NO-OSL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 60.3913, endLng: 5.3221, name: 'NO-BER', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 63.4305, endLng: 10.3951, name: 'NO-TRO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 58.969, endLng: 5.7331, name: 'NO-STA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 60.1695, endLng: 24.9355, name: 'FI-HEL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 60.4518, endLng: 22.2666, name: 'FI-TUR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 61.4981, endLng: 23.7607, name: 'FI-TAM', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 57.7089, endLng: 11.9746, name: 'SU-GOT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.605, endLng: 13.0038, name: 'SU-MAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 59.3293, endLng: 18.0686, name: 'SU-EST', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 59.8586, endLng: 17.6389, name: 'SU-UPP', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.6761, endLng: 12.5683, name: 'DI-COP', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 56.1629, endLng: 10.2039, name: 'DI-AAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.4038, endLng: 10.4024, name: 'DI-ODE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 57.0488, endLng: 9.9217, name: 'DI-AAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 50.8503, endLng: 4.3517, name: 'BE-BRU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.2194, endLng: 4.4025, name: 'BE-ANT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.0543, endLng: 3.7174, name: 'BE-GAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 50.633, endLng: 5.567, name: 'BE-LIE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 50.466, endLng: 4.867, name: 'BE-NAM', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.3676, endLng: 4.9041, name: 'PA-AMS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.9244, endLng: 4.4777, name: 'PA-ROT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.0705, endLng: 4.3007, name: 'PA-HAI', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.0907, endLng: 5.1214, name: 'PA-UTR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 50.0647, endLng: 19.945, name: 'PO-CRA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.2297, endLng: 21.0122, name: 'PO-VAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 54.352, endLng: 18.6466, name: 'PO-GDA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.1079, endLng: 17.0385, name: 'PO-WRO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.4064, endLng: 16.9252, name: 'PO-POZ', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 44.4268, endLng: 26.1025, name: 'RO-BUC', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 46.7712, endLng: 23.6236, name: 'RO-CLU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.7597, endLng: 21.23, name: 'RO-TIM', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.4979, endLng: 19.0402, name: 'HU-BUD', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.5316, endLng: 21.6273, name: 'HU-DEB', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 46.253, endLng: 20.1414, name: 'HU-SZE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 44.8176, endLng: 20.4569, name: 'SE-BEL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.2671, endLng: 19.8335, name: 'SE-NOV', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.3209, endLng: 21.8958, name: 'SE-NIS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.815, endLng: 15.9819, name: 'CR-ZAG', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.5081, endLng: 16.4402, name: 'CR-SPL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.3271, endLng: 14.4422, name: 'CR-RIJ', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.5511, endLng: 18.6939, name: 'CR-OSI', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 46.0569, endLng: 14.5058, name: 'ES-LJU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 46.5547, endLng: 15.6459, name: 'ES-MAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 46.2294, endLng: 15.2606, name: 'ES-CEL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.9981, endLng: 21.4254, name: 'MA-SKO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.0317, endLng: 21.3405, name: 'MA-BIT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.3275, endLng: 19.8189, name: 'AL-TIR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.3231, endLng: 19.4414, name: 'AL-DUR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 40.466, endLng: 19.489, name: 'AL-VLO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 42.6629, endLng: 21.1655, name: 'KO-PRI', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 42.8925, endLng: 20.8678, name: 'KO-MIT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.8563, endLng: 18.4131, name: 'BO-SAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.3438, endLng: 17.8078, name: 'BO-MOS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 44.2034, endLng: 17.9076, name: 'BO-ZEN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 64.1355, endLng: -21.8954, name: 'IS-REY', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 64.1358, endLng: -21.8958, name: 'IS-KOP', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 65.6885, endLng: -18.1262, name: 'IS-AKU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 62.0076, endLng: -6.7715, name: 'IL-TOR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.1417, endLng: 9.5215, name: 'LI-VAD', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.0105, endLng: 28.8638, name: 'MO-CHI', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.7151, endLng: 44.8271, name: 'GE-TBI', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.6168, endLng: 41.6363, name: 'GE-BAT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 40.1792, endLng: 44.4991, name: 'AR-YER', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.9029, endLng: 12.4534, name: 'VA-VAT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 53.9045, endLng: 27.5615, name: 'BI-MIN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 52.4345, endLng: 30.9754, name: 'BI-GOM', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.1904, endLng: 30.2049, name: 'BI-VIT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.7558, endLng: 37.6173, name: 'RU-MOS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 59.9343, endLng: 30.3351, name: 'RU-SAO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.0084, endLng: 82.9357, name: 'RU-NOV', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.7961, endLng: 49.1064, name: 'RU-KAZ', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 56.2965, endLng: 43.9361, name: 'RU-NIZ', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 48.1486, endLng: 17.1077, name: 'ES-BRA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 48.7164, endLng: 21.2611, name: 'ES-KOS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 49.002, endLng: 21.233, name: 'ES-PRE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 46.8182, endLng: 8.2275, name: 'SU-BER', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.3769, endLng: 8.5417, name: 'SU-ZUR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 46.2044, endLng: 6.1432, name: 'SU-GEN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.5596, endLng: 7.5886, name: 'SU-BAS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 46.5197, endLng: 6.6323, name: 'SU-LAU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 37.9838, endLng: 23.7275, name: 'GR-ATE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 40.6401, endLng: 22.9444, name: 'GR-SAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 38.2466, endLng: 21.7346, name: 'GR-PAT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 35.340, endLng: 25.1342, name: 'GR-HER', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.9028, endLng: 12.4964, name: 'IT-ROM', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.4642, endLng: 9.19, name: 'IT-MIL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 40.8518, endLng: 14.2681, name: 'IT-NAP', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.0703, endLng: 7.6869, name: 'IT-TUR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 38.1157, endLng: 13.3615, name: 'IT-PAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.7696, endLng: 11.2558, name: 'IT-FLO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 38.7223, endLng: -9.1393, name: 'PO-LIS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.1496, endLng: -8.611, name: 'PO-POR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.5454, endLng: -8.4265, name: 'PO-BRA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 40.2033, endLng: -8.4103, name: 'PO-COI', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 40.4168, endLng: -3.7038, name: 'ES-MAD', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.3851, endLng: 2.1734, name: 'ES-BAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 39.4699, endLng: -0.3763, name: 'ES-VAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 37.3886, endLng: -5.9823, name: 'ES-SEV', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 38.7223, endLng: -9.1393, name: 'PO-LIS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 54.5973, endLng: -5.9301, name: 'RE-BEL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.5074, endLng: -0.1278, name: 'RE-LON', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.9533, endLng: -3.1883, name: 'RE-EDI', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.4816, endLng: -3.1791, name: 'RE-CAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 53.3331, endLng: -6.2489, name: 'IR-DUB', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.8979, endLng: -8.4706, name: 'IR-COR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 55.8642, endLng: -4.2518, name: 'RE-GLA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 54.6872, endLng: 25.2797, name: 'LI-VIL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 40.7128, endLng: -74.006, name: 'EU-NOV', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 34.0522, endLng: -118.2437, name: 'EU-LOS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.8781, endLng: -87.6298, name: 'EU-CHI', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 29.7604, endLng: -95.3698, name: 'EU-HOU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 33.4484, endLng: -112.074, name: 'EU-PHO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 39.9526, endLng: -75.1652, name: 'EU-FIL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 29.4241, endLng: -98.4936, name: 'EU-SAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 32.7157, endLng: -117.1611, name: 'EU-SAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 32.7767, endLng: -96.797, name: 'EU-DAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 37.3382, endLng: -121.8863, name: 'EU-SAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 43.6532, endLng: -79.3832, name: 'CA-TOR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 49.2827, endLng: -123.1207, name: 'CA-VAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.5017, endLng: -73.5673, name: 'CA-MON', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 51.0447, endLng: -114.0719, name: 'CA-CAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 45.4215, endLng: -75.6972, name: 'CA-OTT', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 19.4326, endLng: -99.1332, name: 'ME-CID', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 20.6597, endLng: -103.3496, name: 'ME-GUA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 25.6866, endLng: -100.3161, name: 'ME-MON', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 21.1619, endLng: -86.8515, name: 'ME-CAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -23.5505, endLng: -46.6333, name: 'BR-SAO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -22.9068, endLng: -43.1729, name: 'BR-RIO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -15.7942, endLng: -47.8825, name: 'BR-BRA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -12.9777, endLng: -38.5016, name: 'BR-SAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -3.7319, endLng: -38.5267, name: 'BR-FOR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -34.6037, endLng: -58.3816, name: 'AR-BUE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -31.4201, endLng: -64.1888, name: 'AR-COR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -32.9442, endLng: -60.6505, name: 'AR-ROS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -32.8895, endLng: -68.8458, name: 'AR-MEN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -12.0464, endLng: -77.0428, name: 'PE-LIM', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -16.409, endLng: -71.5375, name: 'PE-ARE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 4.711, endLng: -74.0721, name: 'CO-BOG', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 6.2442, endLng: -75.5812, name: 'CO-MED', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 3.4516, endLng: -76.532, name: 'CO-CAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 10.4806, endLng: -66.9036, name: 'VE-CAR', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -0.1807, endLng: -78.4678, name: 'EQ-QUI', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -2.1894, endLng: -79.8891, name: 'EQ-GUA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -33.4489, endLng: -70.6693, name: 'CH-SAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -33.0472, endLng: -71.6127, name: 'CH-VAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -34.9011, endLng: -56.1645, name: 'UR-MON', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -25.2637, endLng: -57.5759, name: 'PA-ASU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -16.4897, endLng: -68.1193, name: 'BO-LA ', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -19.033, endLng: -65.2627, name: 'BO-SUC', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 23.1136, endLng: -82.3666, name: 'CU-HAV', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 18.4861, endLng: -69.9308, name: 'RE-SAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 18.4655, endLng: -66.1057, name: 'PO-SAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 17.9712, endLng: -76.7936, name: 'JA-KIN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 14.082, endLng: -87.2068, name: 'TE-HON', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 14.6349, endLng: -90.5069, name: 'GU-GUA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 13.6929, endLng: -89.2182, name: 'EL-SAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 8.9828, endLng: -79.5199, name: 'PA-PAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 44.2312, endLng: -76.486, name: 'CA-KIN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 49.8951, endLng: -97.1384, name: 'CA-WIN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 53.5461, endLng: -113.4938, name: 'CA-EDM', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 46.8139, endLng: -71.2082, name: 'CA-QUE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 25.7617, endLng: -80.1918, name: 'EU-MIA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 42.3601, endLng: -71.0589, name: 'EU-BOS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.6062, endLng: -122.3321, name: 'EU-SEA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 39.7392, endLng: -104.9903, name: 'EU-DEN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 38.9072, endLng: -77.0369, name: 'EU-WAS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 28.5383, endLng: -81.3792, name: 'EU-ORL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 44.9778, endLng: -93.265, name: 'EU-MIN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 33.4484, endLng: -112.074, name: 'EU-PHO', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 40.7608, endLng: -111.891, name: 'EU-SAL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 37.7749, endLng: -122.4194, name: 'EU-SAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -8.8383, endLng: 13.2344, name: 'AN-LUA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 30.0444, endLng: 31.2357, name: 'EG-CAI', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 39.9042, endLng: 116.4074, name: 'CH-PEQ', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 31.2304, endLng: 121.4737, name: 'CH-XAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 23.1291, endLng: 113.2644, name: 'CH-CAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 22.5431, endLng: 114.0579, name: 'CH-SHE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 19.076, endLng: 72.8777, name: 'IN-MUM', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 28.6139, endLng: 77.209, name: 'IN-NOV', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 12.9716, endLng: 77.5946, name: 'IN-BAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 35.6895, endLng: 139.6917, name: 'JA-TOQ', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 34.6937, endLng: 135.5023, name: 'JA-OSA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 37.5665, endLng: 126.978, name: 'CO-SEU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 35.1796, endLng: 129.0756, name: 'CO-BUS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -6.2088, endLng: 106.8456, name: 'IN-JAC', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 13.7563, endLng: 100.5018, name: 'TA-BAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 1.3521, endLng: 103.8198, name: 'SI-SIN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 3.139, endLng: 101.6869, name: 'MA-KUA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 14.5995, endLng: 120.9842, name: 'FI-MAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 21.0285, endLng: 105.8542, name: 'VI-HAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 25.033, endLng: 121.5654, name: 'TA-TAI', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 25.3548, endLng: 51.1839, name: 'QA-DOH', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 24.4539, endLng: 54.3773, name: 'EM-ABU', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 24.6333, endLng: 46.7167, name: 'AR-RIA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 35.6892, endLng: 51.389, name: 'IR-TEE', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 31.7683, endLng: 35.2137, name: 'IS-JER', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 31.9566, endLng: 35.9457, name: 'JO-AMA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 47.8864, endLng: 106.9057, name: 'MO-ULA', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 41.2665, endLng: 69.2162, name: 'UZ-TAS', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -35.2809, endLng: 149.1300, name: 'AU-CAN', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -33.8688, endLng: 151.2093, name: 'AU-SYD', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -36.8485, endLng: 174.7633, name: 'NO-AUC', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: -41.2865, endLng: 174.7762, name: 'NO-WEL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 37.7412, endLng: -25.6756, name: 'PT-PDL', color: '#50B6E8' },
{ startLat: 38.7223, startLng: -9.1393, endLat: 32.6669, endLng: -16.9241, name: 'PT-FUN', color: '#50B6E8' },
];

        // 1. --- Preparar os Dados dos Pontos ---
        const pointsData = arcsData.map(d => ({
            lat: d.endLat,
            lng: d.endLng,
            size: d.name === 'Lisbon' ? 0.25 : 0.2, // Ligeiramente maior para a origem
            color: d.name === 'Lisbon' ? '#FFFFFF' : '#0058E8' // Branca para a origem, Azul escuro para as capitais
        }));

        // 2. --- Preparar os Dados dos Rótulos (Labels) ---
       const labelsData = arcsData.map(d => ({
          lat: d.endLat,
          lng: d.endLng,
          text: d.name,
          size: 0.001,
          color: 'gray',
          fontFace: 'Arial',
          labelDotRadius: 0.001,
          // Adicionando borda ao texto (se suportado)
          strokeColor: '#000000', // cor do contorno
          strokeWidth: 0.0005 // espessura do contorno
       }));

        // --- Globo ---
        const Globe = new ThreeGlobe()
            .globeImageUrl('https://static.wixstatic.com/media/a6967f_cbed4d361eb14d93aff8dcb6ede40613~mv2.jpg')
            .bumpImageUrl('//cdn.jsdelivr.net/npm/three-globe/example/img/earth-topology.png')
            .arcsData(arcsData)
            .arcColor('color')
            .arcDashLength(0.4)
            .arcDashGap(4)
            .arcDashInitialGap(() => Math.random() * 5)
            .arcDashAnimateTime(1000)
            
            // 3. --- Configuração dos Pontos ---
            .pointsData(pointsData)
            .pointAltitude(0) // Altura do ponto (se zero, fica na superfície)
            .pointColor('color') // Cor do ponto
            .pointRadius(0.3) // Raio do ponto (controla o tamanho visual no ecrã)
            
            // 4. --- Configuração dos Rótulos (Labels) ---
            .labelsData(labelsData)
            .labelColor('color') // Cor do texto do rótulo (branco)
            .labelAltitude(0.01) // Coloca o rótulo ligeiramente acima da superfície
            .labelSize('size') // Tamanho do rótulo
            .labelDotRadius('labelDotRadius') // Raio do ponto de conexão
            .labelText('text') // O campo a usar para o texto
            .labelResolution(3); // Aumenta a resolução do texto para melhor qualidade
            

        // --- Renderer ---
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setPixelRatio(Math.min(2, window.devicePixelRatio));
        document.getElementById('globeViz').appendChild(renderer.domElement);



        // --- Cena e luzes ---
        const scene = new THREE.Scene();
        // ✅ DEFINIÇÃO DA COR DE FUNDO DA CENA 3D (Three.js)
        // Usando a cor escura do CSS de fundo para manter a harmonia visual
   
        
        
        // Função para criar a textura de gradiente radial
function createRadialGradientTexture() {
    const size = 256;
    const canvas = document.createElement('canvas');
    canvas.width = size;
    canvas.height = size;
    const ctx = canvas.getContext('2d');

    // Cria um gradiente radial do centro para as bordas
    const gradient = ctx.createRadialGradient(
        size / 2, size / 2, 0.5, // centro e raio inicial
        size / 2, size / 2, size / 2 // centro e raio final
    );

    // Define as cores do gradiente radial
  //  gradient.addColorStop(0, '#000000'); // centro
    //gradient.addColorStop(0.4, '#ffffff'); // até 40%
  //  gradient.addColorStop(1, '#07070A'); // bordas


    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, size, size);

    const texture = new THREE.Texture();
    texture.needsUpdate = true;
    return texture;
}

// Criar a textura de gradiente radial e aplicar
const gradientTexture = createRadialGradientTexture();
scene.background = gradientTexture;
        
        
        
        
        
        
        
        scene.add(Globe);
        scene.add(new THREE.AmbientLight(0xffffff, Math.PI));
        scene.add(new THREE.DirectionalLight(0xf5f5f5, 4 * Math.PI));



        // --- Câmara ---
        const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
        
        
        
        
        // 📌 POSIÇÃO DA CÂMARA (Vista Superior Deslocada)
        camera.position.x = -50; // Move a câmara ligeiramente para a esquerda
        camera.position.y = 200;  // Move a câmara para cima (vista superior)
        camera.position.z = 350; // Zoom mais perto (Ajustado para melhor vista)
        
        // 1. Rotação da CÂMARA: Inclinar a vista em 20 graus para baixo no eixo X
        camera.rotation.x = THREE.MathUtils.degToRad(20);
        
        // ** ROTAÇÃO DO GLOBO (Centra o foco em Portugal: 38.72º N, -9.14º W) **
        // Latitude (N/S): -38.72 (negativo da latitude)
        Globe.rotation.x = THREE.MathUtils.degToRad(-38.7223); 
        // 2. Longitude (E/O): +9.14 (negativo da longitude -9.14)
        Globe.rotation.y = THREE.MathUtils.degToRad(9.1393);
        
        // --- Controlos ---
        const tbControls = new TrackballControls(camera, renderer.domElement);
        tbControls.minDistance = 101;
        tbControls.rotateSpeed = 5;
        tbControls.zoomSpeed = 0.8;

        // --- Resize Responsivo ---
        function onWindowResize() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            renderer.setSize(width, height);
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
        }

        window.addEventListener('resize', onWindowResize);
        onWindowResize();

        // --- Rotação automática (MODIFICADO) ---
        const ROTATE_SPEED = -0.005;
        // ** NOVO: Variável de estado para a rotação **
        let isRotating = true;







        // --- Inicialização do Gráfico de Pizza (Pie Chart) ---
        function initializeChart() {
            const ctx = document.getElementById('machineChart').getContext('2d');
            
            // Dados fornecidos: Europa: 73.5, América: 17.9, África: 0.5, Ásia: 7.1, Oceânia: 1,0
            const machineData = {
                labels: ['EUROPA', 'AMÉRICA', 'ÁFRICA', 'ÁSIA', 'Oceânia'],
                datasets: [{
                    data: [73.5, 17.9, 0.5, 7.1, 1.0], 
                    // 🚨 Paleta estritamente Cinzento e Branco com OPACIDADE (Alpha=0.8)
                    backgroundColor: [
                        'rgba(128, 128, 128, 0.8)', // Cinzento Médio (#808080)
                        'rgba(211, 211, 211, 0.8)', // Cinzento Claro (#D3D3D3)
                        'rgba(255, 255, 255, 0.8)', // Branco (#FFFFFF)
                        'rgba(80, 80, 80, 0.8)',  // Cinzento Escuro (#505050)
                        'rgba(49,47,49, 0.8)'    // Cinzento Escuro (#312f31)
                        
                    ],
                    // Paleta de HOVER (Alpha=1.0 para manter o contraste na interação)
                    hoverBackgroundColor: [
                        'rgba(153, 153, 153, 1.0)',
                        'rgba(255, 255, 255, 1.0)',
                        'rgba(204, 204, 204, 1.0)',
                        'rgba(102, 102, 102, 1.0)'
                    ],
                    borderColor: 'rgba(255, 255, 255, 0.2)', // Borda suave
                    borderWidth: 1
                }]
            };

            const config = {
                type: 'pie',
                data: machineData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        // Legenda removida para minimalismo
                        legend: {
                            display: false
                        },
                        tooltip: {
                             // Tooltip mantido para interatividade
                             callbacks: {
                                 label: function(context) {
                                     let label = context.label || '';
                                     if (label) {
                                         label += ': ';
                                     }
                                     if (context.parsed !== null) {
                                         const total = context.chart.data.datasets[0].data.reduce((a, b) => a + b, 0);
                                         const value = context.parsed;
                                         // Calcula e exibe a percentagem real
                                         const percentage = ((value / total) * 100).toFixed(1);
                                         label += percentage + '%';
                                     }
                                     return label;
                                 }
                             },
                             bodyColor: '#333',
                             titleColor: '#333',
                             backgroundColor: 'rgba(255, 255, 255, 0.9)', // Fundo claro para contraste
                             borderColor: '#888',
                             borderWidth: 1
                        },
                        title: {
                            display: false
                        }
                    }
                }
            };

            new Chart(ctx, config);
        }





        // --- Loop de animação (MODIFICADO para a função Play/Pause) ---
        function animate() {
            requestAnimationFrame(animate);
            
            // ** Condição para a Rotação: SÓ roda se isRotating for true **
            if (isRotating) {
                // Rotação principal no eixo Y
                Globe.rotation.y += ROTATE_SPEED;
            }
            
            tbControls.update();
            renderer.render(scene, camera);
        }






        // --- LÓGICA DO BOTÃO PLAY/PAUSE (NOVO) ---
        document.addEventListener('DOMContentLoaded', () => {
            const playPauseBtn = document.getElementById('playPauseBtn');

            if (playPauseBtn) {
                playPauseBtn.addEventListener('click', () => {
                    isRotating = !isRotating; // Inverte o estado

                    // Atualiza o texto e a cor do botão
                    if (isRotating) {
                        playPauseBtn.innerHTML = 'Pausar Rotação';
                        playPauseBtn.style.backgroundColor = ''; // Azul
                    } else {
                        playPauseBtn.innerHTML = 'Iniciar Rotação';
                        playPauseBtn.style.backgroundColor = ''; // Vermelho/Laranja para indicar parada
                    }
                });
            }
        });

        // Inicializa a animação e o gráfico
        animate();
        initializeChart();
    </script>
</body>
</html>
