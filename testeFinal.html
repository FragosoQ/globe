<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Globo Responsivo - Capitais</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: radial-gradient(circle at center, #191722 0.5%, #000000 100%);
}
#globeViz {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}
canvas {
    display: block;
    width: 100%;
    height: 100%;
}
#logo {
    position: absolute; top: 30px; left: 30px; width: 250px; border-radius: 5px; z-index:10;
}
#logo2 {
    position: absolute; top: 30px; right: 30px; width: 200px; border-radius: 5px; z-index:10;
}
#logo3 {
    position: absolute; bottom: 30px; right: 30px; width: 150px; border-radius: 5px; z-index:10;
}
#toggle-container {
    position: absolute; top: 30px; left: 50%; transform: translateX(-50%);
    z-index: 20; background-color: #222; border-radius: 20px; padding: 5px; display: flex; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}
.toggle-btn {
    position: relative; z-index: 1; padding: 8px 15px; cursor: pointer; color: #000; font-weight: bold; font-family: Arial, sans-serif; transition: color 0.3s ease; display: flex; justify-content: center; align-items: center; min-width: 140px;
}
.toggle-btn:hover {
    color: #fff;
}
.toggle-input {
    display: none;
}
#daily-report:checked ~ .toggle-slider {
    transform: translateX(0);
}
#connected-machines:checked ~ .toggle-slider {
    transform: translateX(100%);
}
.toggle-slider {
    position: absolute; top: 5px; left: 5px; height: calc(100% - 10px); width: calc(50% - 5px); background-color: #777; border-radius: 20px; transition: transform 0.3s ease; z-index: 0; pointer-events: none;
}
#daily-report:checked + .toggle-btn-label {
    color: #000; z-index: 1;
}
#connected-machines:checked + .toggle-btn-label {
    color: #000; z-index: 1;
}
#info-box {
    position: absolute; top: 50%; right: 15%; transform: translateY(-50%); z-index: 15; padding: 20px; color: #fff; text-align: center; font-family: Arial, sans-serif; width: 180px;
}
#info-box .number {
    font-size: 3em; font-weight: bold; color: #fff; line-height: 1; margin-bottom: 5px;
}
#info-box .label {
    font-size: 1.2em; color: #fff;
}
#pie-chart-card {
    position: absolute; bottom: 80px; left: 5%; z-index: 15; border-radius: 10px; padding: 15px; color: #fff; font-family: Arial, sans-serif; width: 350px; box-shadow: 0 4px 15px rgba(0,0,0,0.7); display: flex; flex-direction: row; align-items: center; background: transparent;
}
#pie-chart-card h2 {
    font-size: 1.2em; margin-bottom: 10px; color: #f5f5f5;
}
#canvas-container {
    width: 250px; height: 150px; margin-right: 20px;
}
#legend {
    display: flex; flex-direction: column; justify-content: flex-start; width: 20px;
}
#legend h2 {
    margin: 0 0 10px 0; font-size: 1.2em; color: #f5f5f5;
}
#chart-details {
    list-style: none; padding: 0; margin: 0; width: 100%; font-size: 0.9em;
}
#chart-details li {
    padding: 4px 0; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: space-between;
}
#pie-chart-wrapper {
    display: flex; flex-direction: row; align-items: center; justify-content: start; width: 100%;
}
.color-swatch {
    display: inline-block; width: 12px; height: 12px; margin-right: 8px; border-radius: 2px; border: 1px solid rgba(255,255,255,0.3); flex-shrink: 0;
}
.label-text {
    flex-grow: 1;
}
.chart-percentage {
    font-weight: bold; flex-shrink: 0;
}
#chart-details li:last-child {
    border-bottom: none;
}
#play-pause-container {
    position: absolute; bottom: 30px; left: 5%; z-index: 20;
}
#playPauseBtn {
    padding: 10px 20px; background-color: rgba(222, 214, 213,0.1); color: gray; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; font-family: Arial, sans-serif; transition: background-color 0.3s ease; box-shadow: 0 4px 6px rgba(0,0,0,0.3); display: flex; align-items: center; gap: 8px;
}
#playPauseBtn:hover {
    background-color: ;
}
</style>
<script type="importmap">
{"imports": {"three": "https://esm.sh/three","three/": "https://esm.sh/three/"}}
</script>
</head>
<body>
<div id="toggle-container">
<input type="radio" id="daily-report" name="report-type" class="toggle-input" checked>
<label for="daily-report" class="toggle-btn toggle-btn-label">Daily Report</label>
<input type="radio" id="connected-machines" nmae="report-type" class="toggle-input">
<label for="connected-machines" class="toggle-btn toggle-btn-label">Connected Machines</label>
<span class="toggle-slider"></span>
</div>
<div id="info-box">
<div class="number">364</div>
<div class="label">Equipments</div>
<div class="label">Connected</div>
</div>
<div id="pie-chart-card">
<h2></h2>
<div id="canvas-container">
<canvas id="machineChart"></canvas>
</div>
<ul id="chart-details">
<li><span class="color-swatch" style="background-color: #808080;"></span> <span class="label-text">EUROPA</span> <span class="chart-percentage">73.5%</span></li>
<li><span class="color-swatch" style="background-color: #D3D3D3;"></span> <span class="label-text">AMÉRICA</span> <span class="chart-percentage">17.9%</span></li>
<li><span class="color-swatch" style="background-color: #FFFFFF;"></span> <span class="label-text">ÁFRICA</span> <span class="chart-percentage">0.5%</span></li>
<li><span class="color-swatch" style="background-color: #505050;"></span> <span class="label-text">ÁSIA</span> <span class="chart-percentage">7.1%</span></li>
<li><span class="color-swatch" style="background-color: #312f31;"></span> <span class="label-text">OCEÂNIA</span> <span class="chart-percentage">1.0%</span></li>
</ul>
</div>
<div id="play-pause-container">
<button id="playPauseBtn"> Pausar Rotação</button>
</div>
<div id="globeViz"></div>
<img id="logo" src="https://static.wixstatic.com/media/a6967f_b1478a338afc4870879e1ba83f915dc5~mv2.png" alt="Logo Multiwasher" />
<img id="logo2" src="https://static.wixstatic.com/media/a6967f_691cf1aade3c471c816d1071b0c6ebdd~mv2.png" alt="Logo Somengil" />
<script type="module">
import ThreeGlobe from 'https://esm.sh/three-globe?external=three';
import * as THREE from 'three';
import { TrackballControls } from 'https://esm.sh/three/examples/jsm/controls/TrackballControls.js';

// Dados de arcos (todas as capitais a partir de Lisboa)
const arcsData = [
  // África
  { startLat: 38.7223, startLng: -9.1393, endLat: -8.8383, endLng: 13.2344, name: 'LAD', color: '#50B6E8' }, // Angola (Luanda)
  { startLat: 38.7223, startLng: -9.1393, endLat: 0.4162, endLng: 9.4673, name: 'LBV', color: '#50B6E8' }, // Gabon (Libreville)
  { startLat: 38.7223, startLng: -9.1393, endLat: 32.8872, endLng: 13.5888, name: 'TIP', color: '#50B6E8' }, // Líbia (Tripoli)
  { startLat: 38.7223, startLng: -9.1393, endLat: 33.5731, endLng: -7.5898, name: 'CMN', color: '#50B6E8' }, // Marrocos (Casablanca)
  { startLat: 38.7223, startLng: -9.1393, endLat: -25.9653, endLng: 32.5832, name: 'MPM', color: '#50B6E8' }, // Moçambique (Maputo)
  { startLat: 38.7223, startLng: -9.1393, endLat: 0.3366, endLng: 6.7325, name: 'TMS', color: '#50B6E8' }, // São Tomé e Príncipe (São Tomé)
  { startLat: 38.7223, startLng: -9.1393, endLat: 30.0444, endLng: 31.2357, name: 'CAI', color: '#50B6E8' }, // Egito (Cairo)
  { startLat: 38.7223, startLng: -9.1393, endLat: 5.3600, endLng: -4.0083, name: 'ABJ', color: '#50B6E8' }, // Ivory (Abidjan)
  { startLat: 38.7223, startLng: -9.1393, endLat: 14.9213, endLng: -23.5085, name: 'RAI', color: 'rgba(255,255,255,0.2)' }, // Cabo Verde (Praia)

  // América
  { startLat: 38.7223, startLng: -9.1393, endLat: -34.5997, endLng: -58.3819, name: 'BUE', color: '#50B6E8' }, // Argentina (Buenos Aires)
  { startLat: 38.7223, startLng: -9.1393, endLat: -15.7939, endLng: -47.8828, name: 'BSB', color: '#50B6E8' }, // Brasil (Brasília)
  { startLat: 38.7223, startLng: -9.1393, endLat: 45.4215, endLng: -75.6972, name: 'YOW', color: '#50B6E8' }, // Canadá (Ottawa)
  { startLat: 38.7223, startLng: -9.1393, endLat: -33.4489, endLng: -70.6693, name: 'SCL', color: '#50B6E8' }, // Chile (Santiago)
  { startLat: 38.7223, startLng: -9.1393, endLat: 4.7110, endLng: -74.0721, name: 'BOG', color: '#50B6E8' }, // Colômbia (Bogotá)
  { startLat: 38.7223, startLng: -9.1393, endLat: 18.4861, endLng: -69.9312, name: 'SDQ', color: '#50B6E8' }, // República Dominicana
  { startLat: 38.7223, startLng: -9.1393, endLat: 13.6929, endLng: -89.2182, name: 'SAL', color: '#50B6E8' }, // El Salvador
  { startLat: 38.7223, startLng: -9.1393, endLat: 14.6349, endLng: -90.5069, name: 'GUA', color: '#50B6E8' }, // Guatemala
  { startLat: 38.7223, startLng: -9.1393, endLat: 14.0723, endLng: -87.2068, name: 'TGU', color: '#50B6E8' }, // Honduras
  { startLat: 38.7223, startLng: -9.1393, endLat: 19.4326, endLng: -99.1332, name: 'MEX', color: '#50B6E8' }, // México
  { startLat: 38.7223, startLng: -9.1393, endLat: 8.9824, endLng: -79.5199, name: 'PTY', color: '#50B6E8' }, // Panamá
  { startLat: 38.7223, startLng: -9.1393, endLat: -12.0464, endLng: -77.0428, name: 'LIM', color: '#50B6E8' }, // Peru
  { startLat: 38.7223, startLng: -9.1393, endLat: 40.6611, endLng: -73.9450, name: 'JFK', color: '#50B6E8' }, // NY
  { startLat: 38.7223, startLng: -9.1393, endLat: 34.0522, endLng: -118.2437, name: 'LAX', color: '#50B6E8' }, // LA

  // Europa
  { startLat: 38.7223, startLng: -9.1393, endLat: 48.2084, endLng: 16.3738, name: 'VIE', color: '#50B6E8' }, // Viena
  { startLat: 38.7223, startLng: -9.1393, endLat: 50.8471, endLng: 4.3661, name: 'BRU', color: '#50B6E8' }, // Bruxelas
  { startLat: 38.7223, startLng: -9.1393, endLat: 45.8150, endLng: 15.9819, name: 'ZAG', color: '#50B6E8' }, // Zagreb
  { startLat: 38.7223, startLng: -9.1393, endLat: 35.1856, endLng: 33.3823, name: 'NIC', color: '#50B6E8' }, // Nicósia
  { startLat: 38.7223, startLng: -9.1393, endLat: 50.0755, endLng: 14.4378, name: 'PRG', color: '#50B6E8' }, // Praga
  { startLat: 38.7223, startLng: -9.1393, endLat: 55.6761, endLng: 12.5683, name: 'CPH', color: '#50B6E8' }, // Copenhague
  { startLat: 38.7223, startLng: -9.1393, endLat: 40.4169, endLng: -3.7034, name: 'MAD', color: '#50B6E8' }, // Madrid
  { startLat: 38.7223, startLng: -9.1393, endLat: 59.4370, endLng: 24.7536, name: 'TLL', color: '#50B6E8' }, // Tallinn
  { startLat: 38.7223, startLng: -9.1393, endLat: 60.1695, endLng: 24.9355, name: 'HEL', color: '#50B6E8' }, // Helsinki
  { startLat: 38.7223, startLng: -9.1393, endLat: 48.8567, endLng: 2.3522, name: 'CDG', color: '#50B6E8' }, // Paris
  { startLat: 38.7223, startLng: -9.1393, endLat: 52.5167, endLng: 13.3833, name: 'BER', color: '#50B6E8' }, // Berlim
  { startLat: 38.7223, startLng: -9.1393, endLat: 37.9838, endLng: 23.7275, name: 'ATH', color: '#50B6E8' }, // Atenas
  { startLat: 38.7223, startLng: -9.1393, endLat: 47.4979, endLng: 19.0402, name: 'BUD', color: '#50B6E8' }, // Budapeste
  { startLat: 38.7223, startLng: -9.1393, endLat: 41.8933, endLng: 12.4828, name: 'FCO', color: '#50B6E8' }, // Roma
  { startLat: 38.7223, startLng: -9.1393, endLat: 54.6872, endLng: 25.2797, name: 'VNO', color: '#50B6E8' }, // Vilnius
  { startLat: 38.7223, startLng: -9.1393, endLat: 49.8153, endLng: 6.1296, name: 'LUX', color: '#50B6E8' }, // Luxemburgo
  { startLat: 38.7223, startLng: -9.1393, endLat: 52.3702, endLng: 4.8952, name: 'AMS', color: '#50B6E8' }, // Amsterdam
  { startLat: 38.7223, startLng: -9.1393, endLat: 54.5973, endLng: -5.9301, name: 'BFS', color: '#50B6E8' }, // Belfast
  { startLat: 38.7223, startLng: -9.1393, endLat: 59.9139, endLng: 10.7522, name: 'OSL', color: '#50B6E8' }, // Oslo
  { startLat: 38.7223, startLng: -9.1393, endLat: 52.2322, endLng: 21.0122, name: 'WAW', color: '#50B6E8' }, // Varsóvia
  { startLat: 38.7223, startLng: -9.1393, endLat: 41.1496, endLng: -8.6109, name: 'OPO', color: '#50B6E8' }, // Porto
  { startLat: 38.7223, startLng: -9.1393, endLat: 53.9045, endLng: 27.5615, name: 'MSQ', color: '#50B6E8' }, // Minsk
  { startLat: 38.7223, startLng: -9.1393, endLat: 44.4268, endLng: 26.1025, name: 'OTP', color: '#50B6E8' }, // Bucareste
  { startLat: 38.7223, startLng: -9.1393, endLat: 55.7558, endLng: 37.6173, name: 'SVO', color: '#50B6E8' }, // Moscou
  { startLat: 38.7223, startLng: -9.1393, endLat: 48.1486, endLng: 17.1077, name: 'BTS', color: '#50B6E8' }, // Bratislava
  { startLat: 38.7223, startLng: -9.1393, endLat: 46.0569, endLng: 14.5058, name: 'LJU', color: '#50B6E8' }, // Liubliana
  { startLat: 38.7223, startLng: -9.1393, endLat: 59.3293, endLng: 18.0686, name: 'ARN', color: '#50B6E8' }, // Estocolmo
  { startLat: 38.7223, startLng: -9.1393, endLat: 47.3769, endLng: 8.5417, name: 'ZRH', color: '#50B6E8' }, // Zurique
  { startLat: 38.7223, startLng: -9.1393, endLat: 51.5099, endLng: -0.1180, name: 'LHR', color: '#50B6E8' }, // Londres

  // Ásia
  { startLat: 38.7223, startLng: -9.1393, endLat: 24.6333, endLng: 46.7167, name: 'RUH', color: '#50B6E8' }, // Riade
  { startLat: 38.7223, startLng: -9.1393, endLat: 39.9042, endLng: 116.4074, name: 'PEK', color: '#50B6E8' }, // Pequim
  { startLat: 38.7223, startLng: -9.1393, endLat: -6.2088, endLng: 106.8456, name: 'CGK', color: '#50B6E8' }, // Jacarta
  { startLat: 38.7223, startLng: -9.1393, endLat: 35.6892, endLng: 51.3890, name: 'THR', color: '#50B6E8' }, // Teerã
  { startLat: 38.7223, startLng: -9.1393, endLat: 32.0853, endLng: 34.7818, name: 'TLV', color: '#50B6E8' }, // Tel Aviv
  { startLat: 38.7223, startLng: -9.1393, endLat: 31.9454, endLng: 35.9284, name: 'AMM', color: '#50B6E8' }, // Amã
  { startLat: 38.7223, startLng: -9.1393, endLat: 29.3786, endLng: 47.9904, name: 'KWI', color: '#50B6E8' }, // Kuwait
  { startLat: 38.7223, startLng: -9.1393, endLat: 33.8938, endLng: 35.5018, name: 'BEY', color: '#50B6E8' }, // Beirute
  { startLat: 38.7223, startLng: -9.1393, endLat: 47.9213, endLng: 106.9186, name: 'ULN', color: '#50B6E8' }, // Ulan Bator
  { startLat: 38.7223, startLng: -9.1393, endLat: 14.5995, endLng: 120.9842, name: 'MNL', color: '#50B6E8' }, // Manila
  { startLat: 38.7223, startLng: -9.1393, endLat: 25.2854, endLng: 51.5310, name: 'DOH', color: '#50B6E8' }, // Doha
  { startLat: 38.7223, startLng: -9.1393, endLat: 21.4858, endLng: 39.1925, name: 'JED', color: '#50B6E8' }, // Jidá
  { startLat: 38.7223, startLng: -9.1393, endLat: 25.0330, endLng: 121.5654, name: 'TPE', color: '#50B6E8' }, // Taipei
  { startLat: 38.7223, startLng: -9.1393, endLat: 25.2048, endLng: 55.2708, name: 'DXB', color: '#50B6E8' }, // Dubai
  { startLat: 38.7223, startLng: -9.1393, endLat: 41.2995, endLng: 69.2401, name: 'TAS', color: '#50B6E8' }, // Tashkent

  // Oceania
  { startLat: 38.7223, startLng: -9.1393, endLat: -33.8678, endLng: 151.2073, name: 'SYD', color: '#50B6E8' } // Sydney
];

// Pontos adicionais (incluindo Bangui)
const pontosAdicionais = [
  // Portugal (PO)
  { lat: 38.7169, lng: -9.139, size: 0.3, color: '#0058E8' },
  { lat: 41.1496, lng: -8.611, size: 0.3, color: '#0058E8' },
  // Espanha (ES)
  { lat: 40.4168, lng: -3.7038, size: 0.3, color: '#0058E8' },
  { lat: 41.3851, lng: 2.1734, size: 0.3, color: '#0058E8' },
  { lat: 39.4699, lng: -0.3763, size: 0.3, color: '#0058E8' },
  { lat: 37.3891, lng: -5.9845, size: 0.3, color: '#0058E8' },
  { lat: 43.263, lng: -2.935, size: 0.3, color: '#0058E8' },
  // França (FR)
  { lat: 48.8566, lng: 2.3522, size: 0.3, color: '#0058E8' },
  { lat: 45.764, lng: 4.8357, size: 0.3, color: '#0058E8' },
  { lat: 43.2965, lng: 5.3698, size: 0.3, color: '#0058E8' },
  // Alemanha (AL)
  { lat: 52.52, lng: 13.405, size: 0.3, color: '#0058E8' },
  { lat: 48.1351, lng: 11.582, size: 0.3, color: '#0058E8' },
  { lat: 53.5511, lng: 9.9937, size: 0.3, color: '#0058E8' },
  { lat: 50.1109, lng: 8.6821, size: 0.3, color: '#0058E8' },
  { lat: 51.0504, lng: 13.7373, size: 0.3, color: '#0058E8' },
  // Áustria (AU)
  { lat: 48.2082, lng: 16.3738, size: 0.3, color: '#0058E8' },
  { lat: 47.8095, lng: 13.055, size: 0.3, color: '#0058E8' },
  // Bélgica (BE)
  { lat: 50.8503, lng: 4.3517, size: 0.3, color: '#0058E8' },
  { lat: 51.2194, lng: 4.4025, size: 0.3, color: '#0058E8' },
  { lat: 51.0543, lng: 3.7174, size: 0.3, color: '#0058E8' },
  // Países Baixos (PA)
  { lat: 52.3676, lng: 4.9041, size: 0.3, color: '#0058E8' },
  { lat: 51.9244, lng: 4.4777, size: 0.3, color: '#0058E8' },
  { lat: 52.0907, lng: 5.1214, size: 0.3, color: '#0058E8' },
  // Noruega (NO)
  { lat: 59.9139, lng: 10.7522, size: 0.3, color: '#0058E8' },
  { lat: 60.3913, lng: 5.3221, size: 0.3, color: '#0058E8' },
  // Suécia (SU)
  { lat: 59.3293, lng: 18.0686, size: 0.3, color: '#0058E8' },
  { lat: 57.7089, lng: 11.9746, size: 0.3, color: '#0058E8' },
  { lat: 55.605, lng: 13.0038, size: 0.3, color: '#0058E8' },
  // Dinamarca (DI)
  { lat: 55.6761, lng: 12.5683, size: 0.3, color: '#0058E8' },
  { lat: 56.1629, lng: 10.2039, size: 0.3, color: '#0058E8' },
  // Finlândia (FI)
  { lat: 60.1695, lng: 24.9355, size: 0.3, color: '#0058E8' },
  { lat: 60.4518, lng: 22.2666, size: 0.3, color: '#0058E8' },
  // Islândia (IS)
  { lat: 64.1355, lng: -21.8954, size: 0.3, color: '#0058E8' },
  // Irlanda (IR)
  { lat: 53.3331, lng: -6.2489, size: 0.3, color: '#0058E8' },
  { lat: 53.2707, lng: -9.0568, size: 0.3, color: '#0058E8' },
  // Itália (IT)
  { lat: 41.9028, lng: 12.4964, size: 0.3, color: '#0058E8' },
  { lat: 45.4642, lng: 9.19, size: 0.3, color: '#0058E8' },
  { lat: 40.8518, lng: 14.2681, size: 0.3, color: '#0058E8' },
  { lat: 43.7696, lng: 11.2558, size: 0.3, color: '#0058E8' },
  { lat: 45.4408, lng: 12.3155, size: 0.3, color: '#0058E8' },
  // Portugal (PO) - Repetições
  { lat: 38.7169, lng: -9.139, size: 0.3, color: '#0058E8' },
  { lat: 41.1496, lng: -8.611, size: 0.3, color: '#0058E8' },
  // Rep. Tcheca (RE)
  { lat: 50.0755, lng: 14.4378, size: 0.3, color: '#0058E8' },
  { lat: 49.1951, lng: 16.6068, size: 0.3, color: '#0058E8' },
  // Polônia (PO)
  { lat: 52.2297, lng: 21.0122, size: 0.3, color: '#0058E8' },
  { lat: 50.0647, lng: 19.945, size: 0.3, color: '#0058E8' },
  // Romênia (RO)
  { lat: 44.4268, lng: 26.1025, size: 0.3, color: '#0058E8' },
  // Hungria (HU)
  { lat: 47.4979, lng: 19.0402, size: 0.3, color: '#0058E8' },
  // Bulgária (BU)
  { lat: 42.6977, lng: 23.3219, size: 0.3, color: '#0058E8' },
  // Sérvia (SE)
  { lat: 44.8176, lng: 20.4569, size: 0.3, color: '#0058E8' },
  // Croácia (CR)
  { lat: 45.815, lng: 15.9785, size: 0.3, color: '#0058E8' },
  // Eslovênia (ES)
  { lat: 46.0569, lng: 14.5058, size: 0.3, color: '#0058E8' },
  // Macedônia do Norte (MA)
  { lat: 41.9981, lng: 21.4254, size: 0.3, color: '#0058E8' },
  // Albânia (AL)
  { lat: 41.3275, lng: 19.8189, size: 0.3, color: '#0058E8' },
  // Montenegro (MO)
  { lat: 42.441, lng: 19.2625, size: 0.3, color: '#0058E8' },
  // Bósnia (BO)
  { lat: 43.8563, lng: 18.4131, size: 0.3, color: '#0058E8' },
  // Kosovo (KO)
  { lat: 42.6629, lng: 21.1655, size: 0.3, color: '#0058E8' },
  // Letônia (LE)
  { lat: 56.946, lng: 24.1059, size: 0.3, color: '#0058E8' },
  // Lituânia (LI)
  { lat: 54.6872, lng: 25.2797, size: 0.3, color: '#0058E8' },
  // Estônia (ES)
  { lat: 59.437, lng: 24.7536, size: 0.3, color: '#0058E8' },
  // Luxemburgo (LU)
  { lat: 49.6116, lng: 6.1319, size: 0.3, color: '#0058E8' },
  // Malta (MA)
  { lat: 35.8997, lng: 14.5146, size: 0.3, color: '#0058E8' },
  // Andorra (AN)
  { lat: 42.5078, lng: 1.5211, size: 0.3, color: '#0058E8' },
  // Mônaco (MO)
  { lat: 43.7384, lng: 7.4246, size: 0.3, color: '#0058E8' },
  // São Marino (SA)
  { lat: 43.9336, lng: 12.4484, size: 0.3, color: '#0058E8' },
  // Islândia (IS) - Repetição
  { lat: 64.1355, lng: -21.8954, size: 0.3, color: '#0058E8' },
  // Liechtenstein (LI)
  { lat: 47.1417, lng: 9.5215, size: 0.3, color: '#0058E8' },
  // Noruega (NO) - Repetições
  { lat: 59.9139, lng: 10.7522, size: 0.3, color: '#0058E8' },
  { lat: 60.3913, lng: 5.3221, size: 0.3, color: '#0058E8' },
  { lat: 63.4305, lng: 10.3951, size: 0.3, color: '#0058E8' },
  { lat: 58.969, lng: 5.7331, size: 0.3, color: '#0058E8' },
  // Finlândia (FI) - Repetições
  { lat: 60.1695, lng: 24.9355, size: 0.3, color: '#0058E8' },
  { lat: 61.4981, lng: 23.7607, size: 0.3, color: '#0058E8' },
  { lat: 60.4518, lng: 22.2666, size: 0.3, color: '#0058E8' },
  { lat: 60.2055, lng: 24.6559, size: 0.3, color: '#0058E8' },
  // Suécia (SU) - Repetições
  { lat: 57.7089, lng: 11.9746, size: 0.3, color: '#0058E8' },
  { lat: 55.605, lng: 13.0038, size: 0.3, color: '#0058E8' },
  { lat: 59.3293, lng: 18.0686, size: 0.3, color: '#0058E8' },
  { lat: 59.8586, lng: 17.6389, size: 0.3, color: '#0058E8' },
  // Dinamarca (DI) - Repetições
  { lat: 55.6761, lng: 12.5683, size: 0.3, color: '#0058E8' },
  { lat: 56.1629, lng: 10.2039, size: 0.3, color: '#0058E8' },
  { lat: 55.4038, lng: 10.4024, size: 0.3, color: '#0058E8' },
  { lat: 57.0488, lng: 9.9217, size: 0.3, color: '#0058E8' },
  // Bélgica (BE) - Repetições
  { lat: 50.8503, lng: 4.3517, size: 0.3, color: '#0058E8' },
  { lat: 51.2194, lng: 4.4025, size: 0.3, color: '#0058E8' },
  { lat: 51.0543, lng: 3.7174, size: 0.3, color: '#0058E8' },
  { lat: 50.633, lng: 5.567, size: 0.3, color: '#0058E8' },
  { lat: 50.466, lng: 4.867, size: 0.3, color: '#0058E8' },
  // Países Baixos (PA) - Repetições
  { lat: 52.3676, lng: 4.9041, size: 0.3, color: '#0058E8' },
  { lat: 51.9244, lng: 4.4777, size: 0.3, color: '#0058E8' },
  { lat: 52.0705, lng: 4.3007, size: 0.3, color: '#0058E8' },
  { lat: 52.0907, lng: 5.1214, size: 0.3, color: '#0058E8' },
  // Polônia (PO) - Repetições
  { lat: 54.352, lng: 18.6466, size: 0.3, color: '#0058E8' },
  { lat: 50.0647, lng: 19.945, size: 0.3, color: '#0058E8' },
  { lat: 52.2297, lng: 21.0122, size: 0.3, color: '#0058E8' },
  { lat: 51.1079, lng: 17.0385, size: 0.3, color: '#0058E8' },
  { lat: 52.4064, lng: 16.9252, size: 0.3, color: '#0058E8' },
  // Romênia (RO) - Repetições
  { lat: 44.4268, lng: 26.1025, size: 0.3, color: '#0058E8' },
  { lat: 46.7712, lng: 23.6236, size: 0.3, color: '#0058E8' },
  { lat: 45.7597, lng: 21.23, size: 0.3, color: '#0058E8' },
  // Hungria (HU) - Repetições
  { lat: 47.4979, lng: 19.0402, size: 0.3, color: '#0058E8' },
  { lat: 47.5316, lng: 21.6273, size: 0.3, color: '#0058E8' },
  { lat: 46.253, lng: 20.1414, size: 0.3, color: '#0058E8' },
  // Sérvia (SE) - Repetições
  { lat: 44.8176, lng: 20.4569, size: 0.3, color: '#0058E8' },
  { lat: 45.2671, lng: 19.8335, size: 0.3, color: '#0058E8' },
  { lat: 43.3209, lng: 21.8958, size: 0.3, color: '#0058E8' },
  // Croácia (CR) - Repetições
  { lat: 45.815, lng: 15.9819, size: 0.3, color: '#0058E8' },
  { lat: 43.5081, lng: 16.4402, size: 0.3, color: '#0058E8' },
  { lat: 45.3271, lng: 14.4422, size: 0.3, color: '#0058E8' },
  { lat: 45.5511, lng: 18.6939, size: 0.3, color: '#0058E8' },
  // Eslovênia (ES) - Repetições
  { lat: 46.0569, lng: 14.5058, size: 0.3, color: '#0058E8' },
  { lat: 46.5547, lng: 15.6459, size: 0.3, color: '#0058E8' },
  { lat: 46.2294, lng: 15.2606, size: 0.3, color: '#0058E8' },
  // Macedônia do Norte (MA) - Repetições
  { lat: 41.9981, lng: 21.4254, size: 0.3, color: '#0058E8' },
  { lat: 41.0317, lng: 21.3405, size: 0.3, color: '#0058E8' },
  // Albânia (AL) - Repetições
  { lat: 41.3275, lng: 19.8189, size: 0.3, color: '#0058E8' },
  { lat: 41.3231, lng: 19.4414, size: 0.3, color: '#0058E8' },
  { lat: 40.466, lng: 19.489, size: 0.3, color: '#0058E8' },
  // Kosovo (KO) - Repetições
  { lat: 42.6629, lng: 21.1655, size: 0.3, color: '#0058E8' },
  { lat: 42.8925, lng: 20.8678, size: 0.3, color: '#0058E8' },
  // Bósnia (BO) - Repetições
  { lat: 43.8563, lng: 18.4131, size: 0.3, color: '#0058E8' },
  { lat: 43.3438, lng: 17.8078, size: 0.3, color: '#0058E8' },
  { lat: 44.2034, lng: 17.9076, size: 0.3, color: '#0058E8' },
  // Islândia (IS) - Repetições
  { lat: 64.1355, lng: -21.8954, size: 0.3, color: '#0058E8' },
  { lat: 64.1358, lng: -21.8958, size: 0.3, color: '#0058E8' },
  { lat: 65.6885, lng: -18.1262, size: 0.3, color: '#0058E8' },
  // Ilhas Faroé (IL)
  { lat: 62.0076, lng: -6.7715, size: 0.3, color: '#0058E8' },
  // Outros (LI, MO, GE, AR, VA, BI, RU, SU, GR, IT)
  { lat: 47.1417, lng: 9.5215, size: 0.3, color: '#0058E8' }, // Liechtenstein (VAD)
  { lat: 47.0105, lng: 28.8638, size: 0.3, color: '#0058E8' }, // Moldávia (CHI)
  { lat: 41.7151, lng: 44.8271, size: 0.3, color: '#0058E8' }, // Geórgia (TBI)
  { lat: 41.6168, lng: 41.6363, size: 0.3, color: '#0058E8' }, // Geórgia (BAT)
  { lat: 40.1792, lng: 44.4991, size: 0.3, color: '#0058E8' }, // Arménia (YER)
  { lat: 41.9029, lng: 12.4534, size: 0.3, color: '#0058E8' }, // Vaticano (VAT)
  { lat: 53.9045, lng: 27.5615, size: 0.3, color: '#0058E8' }, // Bielorrússia (MIN)
  { lat: 52.4345, lng: 30.9754, size: 0.3, color: '#0058E8' }, // Bielorrússia (GOM)
  { lat: 55.1904, lng: 30.2049, size: 0.3, color: '#0058E8' }, // Bielorrússia (VIT)
  { lat: 55.7558, lng: 37.6173, size: 0.3, color: '#0058E8' }, // Rússia (MOS)
  { lat: 59.9343, lng: 30.3351, size: 0.3, color: '#0058E8' }, // Rússia (SAO)
  { lat: 55.0084, lng: 82.9357, size: 0.3, color: '#0058E8' }, // Rússia (NOV)
  { lat: 55.7961, lng: 49.1064, size: 0.3, color: '#0058E8' }, // Rússia (KAZ)
  { lat: 56.2965, lng: 43.9361, size: 0.3, color: '#0058E8' }, // Rússia (NIZ)
  { lat: 48.1486, lng: 17.1077, size: 0.3, color: '#0058E8' }, // Eslováquia (BRA)
  { lat: 48.7164, lng: 21.2611, size: 0.3, color: '#0058E8' }, // Eslováquia (KOS)
  { lat: 49.002, lng: 21.233, size: 0.3, color: '#0058E8' }, // Eslováquia (PRE)
  { lat: 46.8182, lng: 8.2275, size: 0.3, color: '#0058E8' }, // Suíça (BER)
  { lat: 47.3769, lng: 8.5417, size: 0.3, color: '#0058E8' }, // Suíça (ZUR)
  { lat: 46.2044, lng: 6.1432, size: 0.3, color: '#0058E8' }, // Suíça (GEN)
  { lat: 47.5596, lng: 7.5886, size: 0.3, color: '#0058E8' }, // Suíça (BAS)
  { lat: 46.5197, lng: 6.6323, size: 0.3, color: '#0058E8' }, // Suíça (LAU)
  { lat: 37.9838, lng: 23.7275, size: 0.3, color: '#0058E8' }, // Grécia (ATE)
  { lat: 40.6401, lng: 22.9444, size: 0.3, color: '#0058E8' }, // Grécia (SAL)
  { lat: 38.2466, lng: 21.7346, size: 0.3, color: '#0058E8' }, // Grécia (PAT)
  { lat: 35.34, lng: 25.1342, size: 0.3, color: '#0058E8' }, // Grécia (HER)
  { lat: 41.9028, lng: 12.4964, size: 0.3, color: '#0058E8' }, // Itália (ROM) - Repetição
  { lat: 45.4642, lng: 9.19, size: 0.3, color: '#0058E8' }, // Itália (MIL) - Repetição
  { lat: 40.8518, lng: 14.2681, size: 0.3, color: '#0058E8' }, // Itália (NAP) - Repetição
  { lat: 45.0703, lng: 7.6869, size: 0.3, color: '#0058E8' }, // Itália (TUR)
  { lat: 38.1157, lng: 13.3615, size: 0.3, color: '#0058E8' }, // Itália (PAL)
  { lat: 43.7696, lng: 11.2558, size: 0.3, color: '#0058E8' }, // Itália (FLO) - Repetição
  { lat: 38.7223, lng: -9.1393, size: 0.3, color: '#0058E8' }, // Portugal (LIS) - Repetição (Ponto de Origem)
  { lat: 41.1496, lng: -8.611, size: 0.3, color: '#0058E8' }, // Portugal (POR) - Repetição
  { lat: 41.5454, lng: -8.4265, size: 0.3, color: '#0058E8' }, // Portugal (BRA)
  { lat: 40.2033, lng: -8.4103, size: 0.3, color: '#0058E8' }, // Portugal (COI)
  { lat: 40.4168, lng: -3.7038, size: 0.3, color: '#0058E8' }, // Espanha (MAD) - Repetição
  { lat: 41.3851, lng: 2.1734, size: 0.3, color: '#0058E8' }, // Espanha (BAR) - Repetição
  { lat: 39.4699, lng: -0.3763, size: 0.3, color: '#0058E8' }, // Espanha (VAL) - Repetição
  { lat: 37.3886, lng: -5.9823, size: 0.3, color: '#0058E8' }, // Espanha (SEV) - Repetição
  { lat: 38.7223, lng: -9.1393, size: 0.3, color: '#0058E8' }, // Portugal (LIS) - Repetição (Ponto de Origem)
  // Reino Unido e Irlanda (RE, IR)
  { lat: 54.5973, lng: -5.9301, size: 0.3, color: '#0058E8' }, // Reino Unido (BEL)
  { lat: 51.5074, lng: -0.1278, size: 0.3, color: '#0058E8' }, // Reino Unido (LON)
  { lat: 55.9533, lng: -3.1883, size: 0.3, color: '#0058E8' }, // Reino Unido (EDI)
  { lat: 51.4816, lng: -3.1791, size: 0.3, color: '#0058E8' }, // Reino Unido (CAR)
  { lat: 53.3331, lng: -6.2489, size: 0.3, color: '#0058E8' }, // Irlanda (DUB) - Repetição
  { lat: 51.8979, lng: -8.4706, size: 0.3, color: '#0058E8' }, // Irlanda (COR)
  { lat: 55.8642, lng: -4.2518, size: 0.3, color: '#0058E8' }, // Reino Unido (GLA)
  { lat: 54.6872, lng: 25.2797, size: 0.3, color: '#0058E8' }, // Lituânia (VIL) - Repetição
  // América do Norte (EU -> US/CA)
  { lat: 40.7128, lng: -74.006, size: 0.3, color: '#0058E8' }, // EUA (NOV)
  { lat: 34.0522, lng: -118.2437, size: 0.3, color: '#0058E8' }, // EUA (LOS)
  { lat: 41.8781, lng: -87.6298, size: 0.3, color: '#0058E8' }, // EUA (CHI)
  { lat: 29.7604, lng: -95.3698, size: 0.3, color: '#0058E8' }, // EUA (HOU)
  { lat: 33.4484, lng: -112.074, size: 0.3, color: '#0058E8' }, // EUA (PHO)
  { lat: 39.9526, lng: -75.1652, size: 0.3, color: '#0058E8' }, // EUA (FIL)
  { lat: 29.4241, lng: -98.4936, size: 0.3, color: '#0058E8' }, // EUA (SAN)
  { lat: 32.7157, lng: -117.1611, size: 0.3, color: '#0058E8' }, // EUA (SAN)
  { lat: 32.7767, lng: -96.797, size: 0.3, color: '#0058E8' }, // EUA (DAL)
  { lat: 37.3382, lng: -121.8863, size: 0.3, color: '#0058E8' }, // EUA (SAN)
  { lat: 43.6532, lng: -79.3832, size: 0.3, color: '#0058E8' }, // Canadá (TOR)
  { lat: 49.2827, lng: -123.1207, size: 0.3, color: '#0058E8' }, // Canadá (VAN)
  { lat: 45.5017, lng: -73.5673, size: 0.3, color: '#0058E8' }, // Canadá (MON)
  { lat: 51.0447, lng: -114.0719, size: 0.3, color: '#0058E8' }, // Canadá (CAL)
  { lat: 45.4215, lng: -75.6972, size: 0.3, color: '#0058E8' }, // Canadá (OTT)
  // México (ME)
  { lat: 19.4326, lng: -99.1332, size: 0.3, color: '#0058E8' },
  { lat: 20.6597, lng: -103.3496, size: 0.3, color: '#0058E8' },
  { lat: 25.6866, lng: -100.3161, size: 0.3, color: '#0058E8' },
  { lat: 21.1619, lng: -86.8515, size: 0.3, color: '#0058E8' },
  // América do Sul (BR, AR, PE, CO, VE, EQ, CH, UR, PA, BO)
  { lat: -23.5505, lng: -46.6333, size: 0.3, color: '#0058E8' }, // Brasil (SAO)
  { lat: -22.9068, lng: -43.1729, size: 0.3, color: '#0058E8' }, // Brasil (RIO)
  { lat: -15.7942, lng: -47.8825, size: 0.3, color: '#0058E8' }, // Brasil (BRA)
  { lat: -12.9777, lng: -38.5016, size: 0.3, color: '#0058E8' }, // Brasil (SAL)
  { lat: -3.7319, lng: -38.5267, size: 0.3, color: '#0058E8' }, // Brasil (FOR)
  { lat: -34.6037, lng: -58.3816, size: 0.3, color: '#0058E8' }, // Argentina (BUE)
  { lat: -31.4201, lng: -64.1888, size: 0.3, color: '#0058E8' }, // Argentina (COR)
  { lat: -32.9442, lng: -60.6505, size: 0.3, color: '#0058E8' }, // Argentina (ROS)
  { lat: -32.8895, lng: -68.8458, size: 0.3, color: '#0058E8' }, // Argentina (MEN)
  { lat: -12.0464, lng: -77.0428, size: 0.3, color: '#0058E8' }, // Peru (LIM)
  { lat: -16.409, lng: -71.5375, size: 0.3, color: '#0058E8' }, // Peru (ARE)
  { lat: 4.711, lng: -74.0721, size: 0.3, color: '#0058E8' }, // Colômbia (BOG)
  { lat: 6.2442, lng: -75.5812, size: 0.3, color: '#0058E8' }, // Colômbia (MED)
  { lat: 3.4516, lng: -76.532, size: 0.3, color: '#0058E8' }, // Colômbia (CAL)
  { lat: 10.4806, lng: -66.9036, size: 0.3, color: '#0058E8' }, // Venezuela (CAR)
  { lat: -0.1807, lng: -78.4678, size: 0.3, color: '#0058E8' }, // Equador (QUI)
  { lat: -2.1894, lng: -79.8891, size: 0.3, color: '#0058E8' }, // Equador (GUA)
  { lat: -33.4489, lng: -70.6693, size: 0.3, color: '#0058E8' }, // Chile (SAN)
  { lat: -33.0472, lng: -71.6127, size: 0.3, color: '#0058E8' }, // Chile (VAL)
  { lat: -34.9011, lng: -56.1645, size: 0.3, color: '#0058E8' }, // Uruguai (MON)
  { lat: -25.2637, lng: -57.5759, size: 0.3, color: '#0058E8' }, // Paraguai (ASU)
  { lat: -16.4897, lng: -68.1193, size: 0.3, color: '#0058E8' }, // Bolívia (LA)
  { lat: -19.033, lng: -65.2627, size: 0.3, color: '#0058E8' }, // Bolívia (SUC)
  // Caraíbas e América Central (CU, RE, PO, JA, TE, GU, EL, PA)
  { lat: 23.1136, lng: -82.3666, size: 0.3, color: '#0058E8' }, // Cuba (HAV)
  { lat: 18.4861, lng: -69.9308, size: 0.3, color: '#0058E8' }, // República Dominicana (SAN)
  { lat: 18.4655, lng: -66.1057, size: 0.3, color: '#0058E8' }, // Porto Rico (SAN)
  { lat: 17.9712, lng: -76.7936, size: 0.3, color: '#0058E8' }, // Jamaica (KIN)
  { lat: 14.082, lng: -87.2068, size: 0.3, color: '#0058E8' }, // Honduras (HON)
  { lat: 14.6349, lng: -90.5069, size: 0.3, color: '#0058E8' }, // Guatemala (GUA)
  { lat: 13.6929, lng: -89.2182, size: 0.3, color: '#0058E8' }, // El Salvador (SAN)
  { lat: 8.9828, lng: -79.5199, size: 0.3, color: '#0058E8' }, // Panamá (PAN)
  // Canadá (CA) - Repetições/Novos
  { lat: 44.2312, lng: -76.486, size: 0.3, color: '#0058E8' }, // Canadá (KIN)
  { lat: 49.8951, lng: -97.1384, size: 0.3, color: '#0058E8' }, // Canadá (WIN)
  { lat: 53.5461, lng: -113.4938, size: 0.3, color: '#0058E8' }, // Canadá (EDM)
  { lat: 46.8139, lng: -71.2082, size: 0.3, color: '#0058E8' }, // Canadá (QUE)
  // EUA (EU) - Repetições/Novos
  { lat: 25.7617, lng: -80.1918, size: 0.3, color: '#0058E8' }, // EUA (MIA)
  { lat: 42.3601, lng: -71.0589, size: 0.3, color: '#0058E8' }, // EUA (BOS)
  { lat: 47.6062, lng: -122.3321, size: 0.3, color: '#0058E8' }, // EUA (SEA)
  { lat: 39.7392, lng: -104.9903, size: 0.3, color: '#0058E8' }, // EUA (DEN)
  { lat: 38.9072, lng: -77.0369, size: 0.3, color: '#0058E8' }, // EUA (WAS)
  { lat: 28.5383, lng: -81.3792, size: 0.3, color: '#0058E8' }, // EUA (ORL)
  { lat: 44.9778, lng: -93.265, size: 0.3, color: '#0058E8' }, // EUA (MIN)
  { lat: 33.4484, lng: -112.074, size: 0.3, color: '#0058E8' }, // EUA (PHO) - Repetição
  { lat: 40.7608, lng: -111.891, size: 0.3, color: '#0058E8' }, // EUA (SAL)
  { lat: 37.7749, lng: -122.4194, size: 0.3, color: '#0058E8' }, // EUA (SAN)
  // África (AN, EG)
  { lat: -8.8383, lng: 13.2344, size: 0.3, color: '#0058E8' }, // Angola (LUA)
  { lat: 30.0444, lng: 31.2357, size: 0.3, color: '#0058E8' }, // Egito (CAI)
  // Ásia/Oriente Médio (CH, IN, JA, CO, IN, TA, SI, MA, FI, VI, EM, AR, IR, IS, JO, MO, UZ)
  { lat: 39.9042, lng: 116.4074, size: 0.3, color: '#0058E8' }, // China (PEQ)
  { lat: 31.2304, lng: 121.4737, size: 0.3, color: '#0058E8' }, // China (XAN)
  { lat: 23.1291, lng: 113.2644, size: 0.3, color: '#0058E8' }, // China (CAN)
  { lat: 22.5431, lng: 114.0579, size: 0.3, color: '#0058E8' }, // China (SHE)
  { lat: 19.076, lng: 72.8777, size: 0.3, color: '#0058E8' }, // Índia (MUM)
  { lat: 28.6139, lng: 77.209, size: 0.3, color: '#0058E8' }, // Índia (NOV)
  { lat: 12.9716, lng: 77.5946, size: 0.3, color: '#0058E8' }, // Índia (BAN)
  { lat: 35.6895, lng: 139.6917, size: 0.3, color: '#0058E8' }, // Japão (TOQ)
  { lat: 34.6937, lng: 135.5023, size: 0.3, color: '#0058E8' }, // Japão (OSA)
  { lat: 37.5665, lng: 126.978, size: 0.3, color: '#0058E8' }, // Coreia do Sul (SEU)
  { lat: 35.1796, lng: 129.0756, size: 0.3, color: '#0058E8' }, // Coreia do Sul (BUS)
  { lat: -6.2088, lng: 106.8456, size: 0.3, color: '#0058E8' }, // Indonésia (JAC)
  { lat: 13.7563, lng: 100.5018, size: 0.3, color: '#0058E8' }, // Tailândia (BAN)
  { lat: 1.3521, lng: 103.8198, size: 0.3, color: '#0058E8' }, // Singapura (SIN)
  { lat: 3.139, lng: 101.6869, size: 0.3, color: '#0058E8' }, // Malásia (KUA)
  { lat: 14.5995, lng: 120.9842, size: 0.3, color: '#0058E8' }, // Filipinas (MAN)
  { lat: 21.0285, lng: 105.8542, size: 0.3, color: '#0058E8' }, // Vietnã (HAN)
  { lat: 25.033, lng: 121.5654, size: 0.3, color: '#0058E8' }, // Taiwan (TAI)
  { lat: 25.3548, lng: 51.1839, size: 0.3, color: '#0058E8' }, // Qatar (DOH)
  { lat: 24.4539, lng: 54.3773, size: 0.3, color: '#0058E8' }, // Emirados Árabes Unidos (ABU)
  { lat: 24.6333, lng: 46.7167, size: 0.3, color: '#0058E8' }, // Arábia Saudita (RIA)
  { lat: 35.6892, lng: 51.389, size: 0.3, color: '#0058E8' }, // Irã (TEE)
  { lat: 31.7683, lng: 35.2137, size: 0.3, color: '#0058E8' }, // Israel (JER)
  { lat: 31.9566, lng: 35.9457, size: 0.3, color: '#0058E8' }, // Jordânia (AMA)
  { lat: 47.8864, lng: 106.9057, size: 0.3, color: '#0058E8' }, // Mongólia (ULA)
  { lat: 41.2665, lng: 69.2162, size: 0.3, color: '#0058E8' }, // Uzbequistão (TAS)
  // Oceânia (AU, NO)
  { lat: -35.2809, lng: 149.13, size: 0.3, color: '#0058E8' }, // Austrália (CAN)
  { lat: -33.8688, lng: 151.2093, size: 0.3, color: '#0058E8' }, // Austrália (SYD)
  { lat: -36.8485, lng: 174.7633, size: 0.3, color: '#0058E8' }, // Nova Zelândia (AUC)
  { lat: -41.2865, lng: 174.7762, size: 0.3, color: '#0058E8' }  // Nova Zelândia (WEL)
]

// Preparar os pontos de todos os locais
const pointsData = arcsData.map(d => ({
    lat: d.endLat,
    lng: d.endLng,
    size: d.name === 'Lisbon' ? 0.25 : 0.2,
    color: d.name === 'Lisbon' ? '#ffffff' : '#0058E8'
})).concat(pontosAdicionais);

// Labels (mantém igual)
const labelsData = arcsData.map(d => ({
    lat: d.endLat,
    lng: d.endLng,
    text: d.name,
    size: 0.001,
    color: 'gray',
    fontFace: 'Arial',
    labelDotRadius: 0.001,
    strokeColor: '#000000',
    strokeWidth: 0.0005
}));

// Cria o globo
const Globe = new ThreeGlobe()
    .globeImageUrl('https://static.wixstatic.com/media/a6967f_cbed4d361eb14d93aff8dcb6ede40613~mv2.jpg')
    .bumpImageUrl('//cdn.jsdelivr.net/npm/three-globe/example/img/earth-topology.png')
    .arcsData(arcsData)
    .arcColor('color')
    .arcDashLength(0.4)
    .arcDashGap(4)
    .arcDashInitialGap(() => Math.random() * 5)
    .arcDashAnimateTime(1000)
    .pointsData(pointsData)
    .pointAltitude(0)
    .pointColor('color')
    .pointRadius(0.3)
    .labelsData(labelsData)
    .labelColor('color')
    .labelAltitude(0.01)
    .labelSize('size')
    .labelDotRadius('labelDotRadius')
    .labelText('text')
    .labelResolution(3);

// Renderer
const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setPixelRatio(Math.min(2, window.devicePixelRatio));
document.getElementById('globeViz').appendChild(renderer.domElement);

// Cena
const scene = new THREE.Scene();
function createRadialGradientTexture() {
    const size = 256;
    const canvas = document.createElement('canvas');
    canvas.width = size;
    canvas.height = size;
    const ctx = canvas.getContext('2d');
    const gradient = ctx.createRadialGradient(size/2, size/2, 0.5, size/2, size/2, size/2);
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, size, size);
    const texture = new THREE.Texture();
    texture.needsUpdate = true;
    return texture;
}
const gradientTexture = createRadialGradientTexture();
scene.background = gradientTexture;
scene.add(Globe);
scene.add(new THREE.AmbientLight(0xffffff, Math.PI));
scene.add(new THREE.DirectionalLight(0xf5f5f5, 4 * Math.PI));

// Camera
const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.x = -50;
camera.position.y = 200;
camera.position.z = 350;
// Inclinar vista
camera.rotation.x = THREE.MathUtils.degToRad(20);
// Centralizar foco em Portugal
Globe.rotation.x = THREE.MathUtils.degToRad(-38.7223);
Globe.rotation.y = THREE.MathUtils.degToRad(9.1393);

// Controles
const tbControls = new TrackballControls(camera, renderer.domElement);
tbControls.minDistance = 101;
tbControls.rotateSpeed = 5;
tbControls.zoomSpeed = 0.8;

// Resize
function onWindowResize() {
    const width = window.innerWidth;
    const height = window.innerHeight;
    renderer.setSize(width, height);
    camera.aspect = width / height;
    camera.updateProjectionMatrix();
}
window.addEventListener('resize', onWindowResize);
onWindowResize();

const ROTATE_SPEED = -0.005;
let isRotating = true;

// Chart initialization
function initializeChart() {
    const ctx = document.getElementById('machineChart').getContext('2d');
    const data = {
        labels: ['EUROPA', 'AMÉRICA', 'ÁFRICA', 'ÁSIA', 'Oceânia'],
        datasets: [{
            data: [73.5, 17.9, 0.5, 7.1, 1.0],
            backgroundColor: [
                'rgba(128,128,128,0.8)',
                'rgba(211,211,211,0.8)',
                'rgba(255,255,255,0.8)',
                'rgba(80,80,80,0.8)',
                'rgba(49,47,49,0.8)'
            ],
            hoverBackgroundColor: [
                'rgba(153,153,153,1.0)',
                'rgba(255,255,255,1.0)',
                'rgba(204,204,204,1.0)',
                'rgba(102,102,102,1.0)'
            ],
            borderColor: 'rgba(255,255,255,0.2)',
            borderWidth: 1
        }]
    };
    const config = {
        type: 'pie', data: data, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false }, tooltip: { callbacks: { label: function(c) { let label = c.label || ''; if (label) label += ': '; if (c.parsed !== null) { const total = c.chart.data.datasets[0].data.reduce((a, b) => a + b, 0); const percentage = ((c.parsed / total) * 100).toFixed(1); label += percentage + '%'; } return label; }, bodyColor: '#333', titleColor: '#333', backgroundColor: 'rgba(255,255,255,0.9)', borderColor: '#888', borderWidth: 1 }, title: { display: false } } } }
    };
    new Chart(ctx, config);
}

// Loop de animação
function animate() {
    requestAnimationFrame(animate);
    if (isRotating) {
        Globe.rotation.y += ROTATE_SPEED;
    }
    tbControls.update();
    renderer.render(scene, camera);
}

// Lógica do botão Play/Pause
document.addEventListener('DOMContentLoaded', () => {
    const btn = document.getElementById('playPauseBtn');
    if (btn) {
        btn.addEventListener('click', () => {
            isRotating = !isRotating;
            if (isRotating) {
                btn.innerHTML = 'Pausar Rotação';
            } else {
                btn.innerHTML = 'Iniciar Rotação';
            }
        });
    }
});

// Inicializar tudo
animate();
initializeChart();
</script>
</body>
</html>
